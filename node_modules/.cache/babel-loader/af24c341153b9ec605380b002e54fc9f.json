{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Desktop/Currency-Converter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState,useEffect}from\"react\";import MainInput from'../../components/Main/MainInput';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Main=function Main(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),fromAmount=_useState2[0],setFromAmount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),toAmount=_useState4[0],setToAmount=_useState4[1];var _useState5=useState('USD'),_useState6=_slicedToArray(_useState5,2),fromCurrency=_useState6[0],setFromCurrency=_useState6[1];var _useState7=useState('EUR'),_useState8=_slicedToArray(_useState7,2),toCurrency=_useState8[0],setToCurrency=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),currencyRates=_useState10[0],setRates=_useState10[1];useEffect(function(){var myHeaders=new Headers();myHeaders.append(\"apikey\",\"FYtme65wlnfNtMEOavWIaJaPSt8Dpija\");var requestOptions={method:'GET',redirect:'follow',headers:myHeaders};//https://api.apilayer.com/exchangerates_data/ - new link\nfetch(\"https://api.apilayer.com/fixer/latest?\",requestOptions).then(function(response){return response.json();}).then(function(result){console.log(result);setRates(result.rates);}).catch(function(error){return console.log('error',error);});},[]);useEffect(function(){if(!!currencyRates){var init=function init(){handleFromAmountChange(0);};init();}},[currencyRates]);function willRound(value){return value.toFixed(2);}function handleFromAmountChange(fromAmount){setToAmount(willRound(fromAmount*currencyRates[toCurrency]/currencyRates[fromCurrency]));setFromAmount(fromAmount);}function handleFromCurrencyChange(fromCurrency){setToAmount(willRound(fromAmount*currencyRates[toCurrency]/currencyRates[fromCurrency]));setFromCurrency(fromCurrency);}function handleToAmountChange(toAmount){setFromAmount(willRound(toAmount*currencyRates[fromCurrency]/currencyRates[toCurrency]));setToAmount(toAmount);}function handleToCurrencyChange(toCurrency){setFromAmount(willRound(toAmount*currencyRates[fromCurrency]/currencyRates[toCurrency]));setToCurrency(toCurrency);}return/*#__PURE__*/_jsx(\"main\",{className:\"main\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main__wrapper\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"main__title\",children:[fromCurrency,\" to \",toCurrency]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main__container\",children:[/*#__PURE__*/_jsx(MainInput,{onAmountChange:handleFromAmountChange,onCurrencyChange:handleFromCurrencyChange,currencies:props.currencies,value:fromAmount,currency:fromCurrency}),/*#__PURE__*/_jsx(\"svg\",{className:\"main__image\",focusable:\"false\",viewBox:\"0 0 24 24\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"})}),/*#__PURE__*/_jsx(MainInput,{onAmountChange:handleToAmountChange,onCurrencyChange:handleToCurrencyChange,currencies:props.currencies,value:toAmount,currency:toCurrency})]})]})})});};export default Main;","map":{"version":3,"sources":["C:/Users/User/Desktop/Currency-Converter/src/containers/Main/Main.jsx"],"names":["React","useState","useEffect","MainInput","Main","props","fromAmount","setFromAmount","toAmount","setToAmount","fromCurrency","setFromCurrency","toCurrency","setToCurrency","currencyRates","setRates","myHeaders","Headers","append","requestOptions","method","redirect","headers","fetch","then","response","json","result","console","log","rates","catch","error","init","handleFromAmountChange","willRound","value","toFixed","handleFromCurrencyChange","handleToAmountChange","handleToCurrencyChange","currencies"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from \"react\";\r\nimport MainInput from '../../components/Main/MainInput';\r\n\r\nconst Main = (props) => {\r\n\r\n    const [fromAmount, setFromAmount] = useState(0);\r\n    const [toAmount, setToAmount] = useState(0);\r\n    const [fromCurrency, setFromCurrency] = useState('USD');\r\n    const [toCurrency, setToCurrency] = useState('EUR');\r\n    const [currencyRates, setRates] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        var myHeaders = new Headers();\r\n        myHeaders.append(\"apikey\", \"FYtme65wlnfNtMEOavWIaJaPSt8Dpija\");\r\n\r\n        var requestOptions = {\r\n            method: 'GET',\r\n            redirect: 'follow',\r\n            headers: myHeaders\r\n        };\r\n        //https://api.apilayer.com/exchangerates_data/ - new link\r\n        fetch(\"https://api.apilayer.com/fixer/latest?\", requestOptions)\r\n            .then(response => response.json())\r\n            .then(result => {\r\n                console.log(result);\r\n                setRates(result.rates);\r\n            })\r\n            .catch(error => console.log('error', error));\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        if (!!currencyRates) {\r\n            function init() {\r\n                handleFromAmountChange(0);\r\n            }\r\n            init();\r\n        }\r\n    }, [currencyRates]);\r\n\r\n    function willRound(value) {\r\n        return value.toFixed(2);\r\n    }\r\n\r\n    function handleFromAmountChange(fromAmount) {\r\n        setToAmount(willRound(fromAmount * currencyRates[toCurrency] / currencyRates[fromCurrency]));\r\n        setFromAmount(fromAmount);\r\n    }\r\n\r\n    function handleFromCurrencyChange(fromCurrency) {\r\n        setToAmount(willRound(fromAmount * currencyRates[toCurrency] / currencyRates[fromCurrency]));\r\n        setFromCurrency(fromCurrency);\r\n    }\r\n\r\n    function handleToAmountChange(toAmount) {\r\n        setFromAmount(willRound(toAmount * currencyRates[fromCurrency] / currencyRates[toCurrency]));\r\n        setToAmount(toAmount);\r\n    }\r\n\r\n    function handleToCurrencyChange(toCurrency) {\r\n        setFromAmount(willRound(toAmount * currencyRates[fromCurrency] / currencyRates[toCurrency]));\r\n        setToCurrency(toCurrency);\r\n    }\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <div className=\"container\">\r\n                <div className=\"main__wrapper\">\r\n                    <h2 className=\"main__title\">{fromCurrency} to {toCurrency}</h2>\r\n                    <div className=\"main__container\">\r\n                        <MainInput\r\n                            onAmountChange={handleFromAmountChange}\r\n                            onCurrencyChange={handleFromCurrencyChange}\r\n                            currencies={props.currencies}\r\n                            value={fromAmount}\r\n                            currency={fromCurrency}\r\n                        />\r\n                        <svg className=\"main__image\" focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\"><path d=\"M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z\"></path></svg>\r\n                        <MainInput\r\n                            onAmountChange={handleToAmountChange}\r\n                            onCurrencyChange={handleToCurrencyChange}\r\n                            currencies={props.currencies}\r\n                            value={toAmount}\r\n                            currency={toCurrency}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n\r\n}\r\n\r\nexport default Main;\r\n"]},"metadata":{},"sourceType":"module"}